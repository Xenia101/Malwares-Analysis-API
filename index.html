<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Malwares Analysis API</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  	<![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Roboto:700" rel="stylesheet">

    <style>
    *{
      font-family: 'Work Sans','Nanum Gothic', sans-serif;
    }
    body{
      font-family: Verdana,sans-serif;
    }
    p{
      font-family: Verdana,sans-serif !important;
    }
    p::before{
      content:"● ";
      color:grey;
    }
    h4, h3{
      color: #666;
      font-family: 'Roboto', sans-serif;
    }
    #pills-tabContent * {
      padding : 1%
    }
    .code-box-gray {
        padding: 12px 12px;
        margin-bottom: 20px;
        background: white;
        border: 1px solid #e9e9e9;
    }
    ul, li, ol {
        list-style: none;
        margin-block-start: 0px;
        margin-block-end: 0px;
    }
    .code-box-black {
        color:white;
        margin-bottom: 20px;
        background: #191d1f;
    }
    .code-tab {
        padding: 17px 25px;
    }
    .code-view {
        padding: 20px 30px;
        background: #1e2224;
        color: white;
    }
    .hljs {
        display: block;
        overflow-x: auto;
        padding: 0.5em;
    }
    .python{
      color:white;
    }
    .yellow{
        color: #b092b9 !important;
    }
    .red{
      color: #b5bc67 !important;
    }
    .hr-sect {
    	display: flex;
    	flex-basis: 100%;
    	align-items: center;
    	margin: 8px 0px;
    }
    .hr-sect::after {
    	content: "";
    	flex-grow: 1;
    	background: rgba(0, 0, 0, 0.35);
    	height: 1px;
    	font-size: 0px;
    	line-height: 0px;
    	margin: 0px 16px;
    }

    </style>
    <link href="https://fonts.googleapis.com/css?family=Patua+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet">
  </head>

  <body>
    <div class="container-fluid">
      <nav class="navbar nav-stacked navbar-expand-lg navbar-light bg-light">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="#">Malwares Analysis API</a>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="http://silab.hoseo.ac.kr/search/">Home<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="http://silab.hoseo.ac.kr/">Security Intelligence lab</a>
            </li>
          </ul>
        </div>
      </nav>

      <div class="row" style="margin-top:50px; margin-bottom:50px;">
        <div class="col-md-2">
        </div>
        <div align=center class="col-md-8">
          <h1 style="font-family: 'Patua One', cursive;">Malwares Analysis API </h1>
        </div>
        <div class="col-md-2">
        </div>
      </div>

      <div class="row">
        <div class="hadow-sm col-md-12" style="opacity:.6; background-color:#5bc0de; width:100%; margin-bottom:35px; height:2px;">
        </div>
      </div>

      <h4 style="color:#4C4C4C; margin-bottom:25px;" class="text-secondary font-weight-bold">Malwares Analysis API란?</h4>

      <div style="margin-bottom:25px; font-size:16px;">
        Malwares Analysis API 는 수많은 분석 결과를 요청하고 조회하는 프로그래밍 인터페이스입니다.<br>
        silab.hoseo.ac.kr/search 의 정보를 웹 기반의 API를 통해 다양한 곳에 연동하여 사용할 수 있습니다.<br>
        <br>
        악성코드와 관련된 수많은 정보를 훨씬 빠르게 효율적으로 받아볼 수 있습니다.<br>
        자동으로 분석된 데이터 결과를 받을 수 있고, 많은 수의 데이터도 편리하게 처리할 수 있습니다.<br>
      </div>

      <script type="text/javascript">

      $.ajax({url: "http://210.125.72.97:5000/api",
              dataType: "jsonp",
              statusCode: {
                  200: function (response) {
                    setTimeout(
                    function()
                    {
                      $("#img_form_url1, #img_form_url2, #img_form_url3").attr("src", "img-api/checked.png");
                    }, 1000);
                  },
                  404: function (response) {
                    setTimeout(
                    function()
                    {
                      $("#img_form_url1, #img_form_url2, #img_form_url3").attr("src", "img-api/cancel.png");
                      consol.log('status  404 ');
                    }, 1000);
                  }
              }
       });
      </script>

      <h4 style="color:#4C4C4C; margin-bottom:25px;" class="text-secondary font-weight-bold">제공되는 API</h4>

      <table class="table table-hover bg-light shadow-sm p-3 mb-5 bg-white rounded">
        <thead>
          <tr>
            <th scope="col">METHOD </th>
            <th scope="col">API</th>
            <th scope="col">설명</th>
            <th scope="col">서버 상태</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>POST</td>
            <td>File Upload API</td>
            <td>보유하고 있는 파일을 업로드 할 수 있습니다.</td>
            <td>
              <img style="margin-left:8px; width:24px;" id="img_form_url2" src="img-api/loader.gif"></img>
            </td>
          </tr>
          <tr>
            <td>GET</td>
            <td>File Trans Report</td>
            <td>분석된 파일에 대한 변종 파일리스트 확인할 수 있는 API입니다.</td>
            <td>
              <img style="margin-left:8px; width:24px;" id="img_form_url2" src="img-api/loader.gif"></img>
            </td>
          </tr>
          <tr>
            <td>GET</td>
            <td>File Result Report</td>
            <td>분석된 파일에 대한 결과를 확인할 수 있는 API입니다.</td>
            <td>
              <img style="margin-left:8px; width:24px;" id="img_form_url3" src="img-api/loader.gif"></img>
            </td>
          </tr>
        </tbody>
      </table>

      <h4 style="color:#4C4C4C; margin-bottom:25px;" class="text-secondary font-weight-bold" style="margin-top:35px">API 정보</h4>

      <div class="row" style="margin-bottom:25px;">
        <div id="change1" class="col-3">
          <div style="margin-bottom:25px" class="list-group" id="list-tab" role="tablist">
            <a style="font-size:16px;" class="list-group-item-light list-group-item list-group-item-action active" id="list-home-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home"><span class="badge badge-primary">POST</span> File Upload API</a>
            <a style="font-size:16px;" class="list-group-item-light list-group-item list-group-item-action" id="list-profile-list" data-toggle="list" href="#list-profile" role="tab" aria-controls="profile"><span class="badge badge-success">GET</span> File Trans Report</a>
            <a style="font-size:16px;" class="list-group-item-light list-group-item list-group-item-action" id="list-messages-list" data-toggle="list" href="#list-messages" role="tab" aria-controls="messages"><span class="badge badge-success">GET</span> File Result Report</a>
          </div>
        </div>

        <div id="change2" class="col-9">
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
              <h3 class="hr-sect">File Upload</h3>

              <div style="font-size:12px;">
                <br>
                <p style="margin-bottom:5px;">&ensp;사용자가 보유한 파일을 분석 요청할 때 사용하는 API로 HTTP POST 방식을 이용합니다.</p>
                <p>&ensp;API 요청은 아래와 같은 방식을 통해 이루어집니다.</p>
              </div>

              <div style="background: #F0F0F0; padding-left:25px; padding-right:25px; padding-bottom:5px">
                <br><h4>File Upload 요청</h4>
                <div class="code-box-gray">
                  <ul style="font-size:14px;">
                    <li><b>URL</b> : http://210.125.72.97:5000/api/file</li>
                    <li><b>METHOD</b> : POST</li>
                    <li>
                      <b>Parameter</b>
                      <li>id (<span style="color:red;">필수</span>) : 분석 요청자 id</li>
                      <li>hash (<span>옵션</span>) : 분석 대상 파일 hash</li>
                    </li>
                  </ul>
                </div>

                <div style="font-size:12px;">
                  <p style="margin-bottom:5px;">&ensp;업로드한 파일은 요청 순서대로 분석을 합니다. 서버 상황 및 분석 대기 상황에 따라 분석이 지연될 수 있습니다.</p>
                  <p>&ensp;API 요청이 제대로 전달된 경우에는 JSON 형태의 응답을 받을 수 있습니다.</p>
                </div>

                <br><h4>File Upload 응답 JSON</h4>
                <div class="code-box-gray">
                  <pre><code style="font-family: monospace; float:left; display: block;overflow-x: auto;">
  {
      "result_msg" : <span class="red">"결과 메시지 (String)"</span>,
      "date" : <span class="red">"응답 시간 (String)"</span>,
      "md5" : <span class="red">"파일의 MD5 해시 값 (String)"</span>,
      "sha256" : <span class="red">"파일의 SHA256 해시 값 (String)"</span>,
      "sha1" : <span class="red">"파일의 SHA1 해시 값 (String)"</span>
  }</code>
                  </pre>
                </div>

                <br><h4>요청 예제</h4>
                <div class="code-box-black">
                  <ul class="code-tab">
                    <li>python</li>
                  </ul>
                  <div class="code-view">
                    <pre><code class="python hljs"><span class="yellow">import</span> requests
params = {<span class="red">"file"</span>: <span class="red">"myfile.exe"</span>}
files = {<span class="red">"file"</span>: (<span class="red">"myfile.exe"</span>, open(<span class="red">"myfile.exe"</span>, <span class="red">"rb"</span>))}
response = requests.post(<span class="red">"http://silab.hoseo.ac.kr:5000/api/file"</span>, files=files, data=params)
json_response = response.json</code></pre>
                  </div>
                </div>

                <br><h4>응답 예제</h4>
                <div style="margin-bottom:50px; "class="code-view">
                  <pre><code class="python hljs">{
    "result_msg" : <span class="red">"success"</span>,
    "date" : <span class="red">"2019-01-01"</span>,
    "md5": <span class="red">"1d6a3fbfc24f40e2368d6899c5906d2e"</span>,
    "sha1": <span class="red">"ccde4ac404816ea4f2f5b35e499f370c5794dd30"</span>,
    "sha256": <span class="red">"c71649b7915381c6380ef3f56969ba20bc7eb96eb7a7de837cae3a7c580db024 "</span>
}</code></pre>
                </div>
              </div>
              </div>

              <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
                <h3 class="hr-sect">File Trans</h3>

                <div style="font-size:12px;">
                  <br>
                  <p style="margin-bottom:5px;">&ensp;분석된 파일에 대한 변종 파일들의 정보를 확인 할 때 사용하는 API로 HTTP GET 방식을 이용합니다.</p>
                  <p>&ensp;API 요청은 아래와 같은 방식을 통해 이루어집니다.</p>
                </div>

                <div style="background: #F0F0F0; padding-left:25px; padding-right:25px; padding-bottom:5px">
                  <br><h4>File Trans 요청</h4>
                  <div class="code-box-gray">
                    <ul style="font-size:14px;">
                      <li><b>URL</b> : http://210.125.72.97:5000/api/trans</li>
                      <li><b>METHOD</b> : GET</li>
                      <li>
                        <b>Parameter</b>
                        <li>hash (<span style="color:red;">필수</span>) : 분석 대상 파일 hash</li>
                      </li>
                    </ul>
                  </div>

                  <div style="font-size:12px;">
                    <p style="margin-bottom:5px;">&ensp;hash는 MD5, SHA1, SHA256을 지원합니다.</p>
                    <p>&ensp;API 요청이 제대로 전달된 경우에는 JSON 형태의 응답을 받을 수 있습니다.</p>
                  </div>

                  <br><h4>File Trans 응답 JSON</h4>
                  <div class="code-box-gray">
                    <pre><code style="font-family: monospace; float:left; display: block;overflow-x: auto;">
  {
      "transfile1" : <span class="red">"변종 파일1 (String)"</span>,
      "transfile2" : <span class="red">"변종 파일2 (String)"</span>,
      "transfile3" : <span class="red">"변종 파일3 (String)"</span>,
      "transfile4" : <span class="red">"변종 파일4 (String)"</span>,
      "transfile5" : <span class="red">"변종 파일5 (String)"</span>
  }</code>
                    </pre>
                  </div>
                  <div style="font-size:12px;">
                    <p style="margin-bottom:5px;">&ensp;변종파일의 수는 해당 파일의 hash값에 따라 다릅니다.</p>
                  </div>

                  <br><h4>요청 예제</h4>
                  <div class="code-box-black">
                    <ul class="code-tab">
                      <li>python</li>
                    </ul>
                    <div class="code-view">
                      <pre><code class="python hljs"><span class="yellow">import</span> requests
<span class="yellow">import</span> json
params = {<span class="red">"sha256"</span>: <span class="red">"sha256"</span>}
response = requests.get(<span class="red">http://silab.hoseo.ac.kr:5000/api/trans</span>, params=params)
response.status_code
result = response.text
parsed_json = json.loads(result)
json_response = response.json</code></pre>
                  </div>
                  </div>

                  <br><h4>응답 예제</h4>
                  <div style="margin-bottom:50px; "class="code-view">
                    <pre><code class="python hljs">{
    "transfile1" : <span class="red">"56f6dcb3f95fdd11c48832c7a4e3b4f75e42a94532bdcd41dd6ea75374946341"</span>,
    "transfile2" : <span class="red">"1e18bc2d11f874a852cfbe49e4ac541b1898c298cbe1a0114a70e5463dbe3c87"</span>,
    "transfile3" : <span class="red">"84d54bf6edd6bd6614e93da3b18d48db1667f1cba6d189a04509e425dd338317"</span>,
    "transfile4" : <span class="red">"8f709a6e5064b5e0122e06849af57a2af083be8ec7dbfcb4ff3a49066dc5647f"</span>,
    "transfile5" : <span class="red">"02cd7c2bdf2d141d4577f7cd6d2fe29768d5fa62bafc48fec95e4b6171ff07b3"</span>
}</code></pre>
                  </div>
                </div>
              </div>

              <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">
                <h3 class="hr-sect">File Result</h3>

                <div style="font-size:12px;">
                  <br>
                  <p style="margin-bottom:5px;">&ensp;분석된 파일에 대한 요약 정보를 확인 할 때 사용하는 API로 HTTP GET 방식을 이용합니다.</p>
                  <p>&ensp;API 요청은 아래와 같은 방식을 통해 이루어집니다.</p>
                </div>

                <div style="background: #F0F0F0; padding-left:25px; padding-right:25px; padding-bottom:5px">
                  <br><h4>File Result 요청</h4>
                  <div class="code-box-gray">
                    <ul style="font-size:14px;">
                      <li><b>URL</b> : http://210.125.72.97:5000/api/result</li>
                      <li><b>METHOD</b> : GET</li>
                      <li>
                        <b>Parameter</b>
                        <li>hash (<span style="color:red;">필수</span>) : 분석 대상 파일 hash</li>
                      </li>
                    </ul>
                  </div>

                  <div style="font-size:12px;">
                    <p style="margin-bottom:5px;">&ensp;hash는 MD5, SHA1, SHA256을 지원합니다.</p>
                    <p>&ensp;API 요청이 제대로 전달된 경우에는 JSON 형태의 응답을 받을 수 있습니다.</p>
                  </div>

                  <br><h4>File Result 응답 JSON</h4>
                  <div class="code-box-gray">
                    <pre><code style="font-family: monospace; float:left; display: block;overflow-x: auto;">
  {
      "msh_t_result"  :  <span class="red">"파일의 msh_t_result 결과 (Number)"</span>,
      "ssdeep_result" : <span class="red">"파일의 ssdeep_result 결과 (Number)"</span>,
      "tlsh_result" : <span class="red">"파일의 tlsh_result 결과 (Number)"</span>,
      "msh2_result" : <span class="red">"파일의 msh2_result 결과 (Number)"</span>,
      "ml_result" : <span class="red">"파일의 ml 결과 (Number)"</span>,
      "structured_result" : <span class="red">"파일의 structured 결과 (Number)"</span>
  }</code>
</pre>
                  </div>

                  <br><h4>요청 예제</h4>
                  <div class="code-box-black">
                    <ul class="code-tab">
                      <li>python</li>
                    </ul>
                    <div class="code-view">
                      <pre><code class="python hljs"><span class="yellow">import</span> requests
<span class="yellow">import</span> json
params = {<span class="red">"sha256"</span>: <span class="red">"sha256"</span>}
response = requests.get(<span class="red">http://silab.hoseo.ac.kr:5000/api/result</span>, params=params)
response.status_code
result = response.text
parsed_json = json.loads(result)</code></pre>
                    </div>
                  </div>

                  <br><h4>응답 예제</h4>
                  <div style="margin-bottom:50px; "class="code-view">
                    <pre><code class="python hljs">{
    "msh_t_result" : <span class="red">"-"</span>,
    "ssdeep_result" : <span class="red">"null"</span>,
    "tlsh_result" : <span class="red">"0"</span>,
    "msh2_result" : <span class="red">"null"</span>,
    "ml_result" : <span class="red">"null"</span>,
    "structured_result" : <span class="red">"null"</span>
}</code></pre>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>


    </div> <!-- Container -->

    <script type="text/javascript">
    var filter = "win16|win32|win64|mac";
    if(navigator.platform){
      if(0 > filter.indexOf(navigator.platform.toLowerCase())){
        document.getElementById("change1").className = "col-0";
        document.getElementById("change2").className = "col-12";
        }else{
        }
    }
    </script>
  </body>
</html>
